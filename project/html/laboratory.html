<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>動物學院 - 研究實驗室</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="../css/laboratory.css">
  <link rel="stylesheet" href="../css/music-control.css">
  <link rel="stylesheet" href="../css/responsive.css">
</head>
<body>
  <div class="hp-container">
    <div class="hp-top-area">
      <div class="hp-top-left">
        <div class="hp-title">動物學院</div>
        <div class="control-button music-toggle" onclick="toggleMusic()" title="音樂控制">  <!--聲音icon-->
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#A0522D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
          </svg>
        </div>
      </div>
      <div class="hp-top-right">
        <div class="player-info">研究點數: 0</div>
      </div>
    </div>
    
    <div class="hp-main-content">
      <!-- 左側菜單 -->
      <div class="left-menu">
        <div class="menu-item">
          <span class="menu-icon">📖</span>
          <span>主線劇情</span>
        </div>
        <div class="menu-item">
          <span class="menu-icon">🦊</span>
          <span>動物圖鑑</span>
        </div>
        <div class="menu-item">
          <span class="menu-icon">🐾</span>
          <span>探索地圖</span>
        </div>
        <div class="menu-item active">
          <span class="menu-icon">🧪</span>
          <span>研究實驗室</span>
        </div>
        <div class="menu-item">
          <span class="menu-icon">🏆</span>
          <span>成就系統</span>
        </div>
        <div class="menu-item">
          <span class="menu-icon">🎒</span>
          <span>物品背包</span>
        </div>
        
        <div class="action-buttons">
          <button class="back-button" onclick="window.location.href='main_story.html'">返回主線</button>
        </div>
      </div>
      
      <!-- 中間內容 -->
      <div class="center-content">
        <div class="lab-container">
          <!-- 實驗室環境 -->
          <div class="lab-environment" id="lab-environment">
            <!-- 背景裝飾 -->
            <div class="decoration" id="decoration-container"></div>
            
            <!-- 動物展示區 -->
            <div class="animal-display" id="animal-display">
              <!-- 動物會根據收集情況動態載入 -->
            </div>
          </div>
        </div>
      </div>
      
      <!-- 右側控制面板 -->
      <div class="right-panel">
        <div class="panel-section">
          <h3>🍎 餵食中心</h3>
          <div class="food-grid">
            <div class="food-item" data-food="apple" data-cost="10">
              <div class="food-icon">🍎</div>
              <div class="food-name">蘋果</div>
              <div class="food-cost">10金幣</div>
            </div>
            <div class="food-item" data-food="carrot" data-cost="8">
              <div class="food-icon">🥕</div>
              <div class="food-name">胡蘿蔔</div>
              <div class="food-cost">8金幣</div>
            </div>
            <div class="food-item" data-food="fish" data-cost="15">
              <div class="food-icon">🐟</div>
              <div class="food-name">魚</div>
              <div class="food-cost">15金幣</div>
            </div>
            <div class="food-item" data-food="seeds" data-cost="5">
              <div class="food-icon">🌰</div>
              <div class="food-name">種子</div>
              <div class="food-cost">5金幣</div>
            </div>
          </div>
        </div>
        
        <div class="panel-section">
          <h3>🎨 環境裝飾</h3>
          <div class="decoration-grid">
            <div class="decoration-item" data-decoration="tree" data-cost="50">
              <div class="decoration-icon">🌳</div>
              <div class="decoration-name">樹木</div>
              <div class="decoration-cost">50點數</div>
            </div>
            <div class="decoration-item" data-decoration="flower" data-cost="20">
              <div class="decoration-icon">🌸</div>
              <div class="decoration-name">花朵</div>
              <div class="decoration-cost">20點數</div>
            </div>
            <div class="decoration-item" data-decoration="rock" data-cost="30">
              <div class="decoration-icon">🪨</div>
              <div class="decoration-name">石頭</div>
              <div class="decoration-cost">30點數</div>
            </div>
            <div class="decoration-item" data-decoration="water" data-cost="80">
              <div class="decoration-icon">💧</div>
              <div class="decoration-name">水池</div>
              <div class="decoration-cost">80點數</div>
            </div>
          </div>
        </div>
        
        <div class="panel-section">
          <h3>📊 實驗室狀態</h3>
          <div class="lab-stats">
            <div class="stat-item">
              <span>環境舒適度:</span>
              <div class="stat-bar">
                <div class="stat-fill" id="comfort-fill" style="width: 0%"></div>
              </div>
              <span id="comfort-text">0%</span>
            </div>
            <div class="stat-item">
              <span>動物滿意度:</span>
              <div class="stat-bar">
                <div class="stat-fill" id="satisfaction-fill" style="width: 0%"></div>
              </div>
              <span id="satisfaction-text">0%</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 餵食模態框 -->
  <div id="feeding-modal" class="modal">
    <div class="modal-content">
      <h3>選擇要餵食的動物</h3>
      <div class="animal-selection" id="animal-selection">
        <!-- 動物選項會動態載入 -->
      </div>
      <button class="close-modal">取消</button>
    </div>
  </div>

  <script src="../js/bgm-manager.js"></script>
  <script src="../js/auto-bgm.js"></script>
  <script src="../js/points-manager.js"></script>
  <script src="../js/item-reward-system.js"></script>
  <script src="../js/cards.js"></script>
  <script src="../js/laboratory.js"></script>
  <script src="../js/menu_click.js"></script>
</body>
</html>